@import 'tailwindcss';

@theme {
  /* Color primitives */
  --color-bench-blue-1: #eef2ff;
  --color-bench-blue-2: #e0e7ff;
  --color-bench-blue-6: #3c75f2;
  --color-bench-blue-7: #1d4ed8;
  --color-bench-blue-9: #1e3a8a;
  --color-bench-gray-1: #f8fafc;
  --color-bench-gray-2: #f1f5f9;
  --color-bench-gray-3: #e2e8f0;
  --color-bench-gray-4: #cbd5f5;
  --color-bench-gray-6: #64748b;
  --color-bench-gray-8: #334155;
  --color-bench-gray-9: #0f172a;
  --color-bench-green-6: #16a34a;
  --color-bench-red-6: #dc2626;
  --color-bench-yellow-6: #ca8a04;
  --color-bench-white: #ffffff;

  /* Semantic colors */
  --color-surface: var(--color-bench-white);
  --color-surface-muted: var(--color-bench-gray-1);
  --color-surface-strong: #173fad;
  --color-surface-accent: #1d9b90;
  --color-fg: var(--color-bench-gray-9);
  --color-fg-muted: var(--color-bench-gray-6);
  --color-fg-inverse: var(--color-bench-white);
  --color-muted: var(--color-fg-muted);
  --color-border: var(--color-bench-gray-3);
  --color-border-strong: var(--color-bench-gray-4);
  --color-ring: var(--color-bench-blue-6);
  --color-success: var(--color-bench-green-6);
  --color-warning: var(--color-bench-yellow-6);
  --color-danger: var(--color-bench-red-6);

  /* Typography */
  --font-sans: ui-sans-serif, system-ui, sans-serif;
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.5rem;
  --text-2xl: 2rem;
  --text-3xl: 2.5rem;

  /* Spacing */
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-10: 2.5rem;
  --spacing-12: 3rem;
  --spacing-16: 4rem;

  /* Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;

  /* Shadow */
  --shadow-sm: 0 1px 2px rgba(15, 23, 42, 0.08);
  --shadow-md: 0 6px 18px rgba(15, 23, 42, 0.08);
  --shadow-lg: 0 12px 24px rgba(15, 23, 42, 0.12);

  /* Layout */
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1200px;
}

@layer base {
  :root {
    color: var(--color-fg);
    background: var(--color-surface-muted);
    font-family: var(--font-sans);
  }

  *:focus-visible {
    outline: 2px solid var(--color-ring);
    outline-offset: 2px;
  }
}

@layer components {
  /* Page + layout */
  .bench-page {
    @apply min-h-screen;
    background: var(--color-surface-muted);
    color: var(--color-fg);
  }

  .bench-container {
    @apply mx-auto px-4;
    max-width: var(--container-xl);
  }

  .bench-section {
    @apply flex flex-col gap-6 py-6;
  }

  .bench-stack {
    @apply flex flex-col gap-4;
  }

  .bench-inline {
    @apply flex items-center gap-3;
  }

  .bench-grid-2 {
    @apply grid gap-6;
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  @media (max-width: 1024px) {
    .bench-grid-2 {
      grid-template-columns: minmax(0, 1fr);
    }
  }

  /* Hero */
  .bench-hero {
    @apply relative rounded-2xl p-6 shadow-lg;
    background: var(--color-surface-strong);
    color: var(--color-fg-inverse);
  }

  .bench-title {
    font-size: 3.5rem;
    font-weight: 800;
    letter-spacing: -0.02em;
    text-align: center;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    color: var(--color-fg-inverse);
    margin: 0;
  }

  @media (max-width: 768px) {
    .bench-title {
      font-size: 3rem;
    }
  }

  .bench-subtitle {
    font-size: var(--text-lg);
    color: rgba(255, 255, 255, 0.85);
  }

  /* Cards */
  .bench-card {
    @apply rounded-xl border shadow-sm;
    border-color: var(--color-border);
    background: var(--color-surface);
    overflow: hidden;
  }

  .bench-card-header {
    @apply border-b px-5 py-3;
    border-color: var(--color-border);
    background: var(--color-bench-gray-1);
  }

  .bench-card-body {
    @apply px-5 py-4;
  }

  /* Buttons */
  .bench-button {
    @apply inline-flex items-center justify-center gap-2 text-sm font-semibold;
    border-radius: 10px;
    padding: 0.4rem 1rem;
    background: var(--color-white);
    color: var(--color-bench-blue-7);
    border: none;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    cursor: pointer;

    &:hover {
      opacity: 0.85;
    }

    &:focus {
      outline: 2px solid rgba(255, 255, 255, 0.6);
      outline-offset: 2px;
      opacity: 1;
    }

    &:active {
      transform: translate(1px, 1px);
      opacity: 1;
    }
  }

  .bench-button-primary {
    @apply text-white;
    background: var(--color-bench-blue-7);
  }

  .bench-button-ghost {
    @apply border;
    border-color: var(--color-border);
    background: transparent;
    color: var(--color-fg);
  }

  /* Badges */
  .bench-badge {
    @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold;
    background: var(--color-blue-600);
    color: var(--color-fg-inverse);
  }

  /* Tables */
  .bench-table {
    @apply w-full border-collapse;
  }

  .bench-table-head {
    @apply text-sm font-semibold;
    color: var(--color-fg-muted);
  }

  .bench-table-row {
    @apply border-b;
    border-color: var(--color-border);
  }

  .bench-table-cell {
    @apply px-3 py-2 align-middle text-sm;
  }

  .bench-table-cell-muted {
    color: var(--color-fg-muted);
  }

  .bench-results-table {
    @apply w-full border-collapse text-sm;
  }

  .bench-results-table th,
  .bench-results-table td {
    @apply px-3 py-2 align-middle;
    border: 1px solid var(--color-border);
  }

  .bench-results-table thead th {
    background: var(--color-bench-gray-2);
    font-weight: 600;
    text-align: center;
  }

  .bench-results-table tbody tr:hover {
    background: var(--color-bench-gray-1);
  }

  .bench-results-row-header {
    background: var(--color-bench-gray-1);
  }

  .bench-table-wrap {
    @apply rounded-lg border;
    border-color: var(--color-border);
    background: var(--color-surface);
    box-shadow: var(--shadow-sm);
  }

  .bench-cell-good {
    background-color: rgba(92, 184, 92, 0.13);
    color: #1f3d1f;
  }

  .bench-cell-best {
    background-color: rgba(92, 184, 92, 0.33);
    color: #1f3d1f;
    font-weight: 700;
  }

  .bench-cell-ok {
    background-color: rgba(138, 209, 125, 0.2);
    color: #1f3d1f;
  }

  .bench-cell-warn {
    background-color: rgba(240, 173, 78, 0.2);
    color: #5a3b09;
  }

  .bench-cell-bad {
    background-color: rgba(217, 83, 79, 0.2);
    color: #5a1a18;
  }

  .bench-cell-worst {
    background-color: rgba(217, 83, 79, 0.4);
    color: #5a1a18;
    font-weight: 700;
  }

  /* Alerts */
  .bench-alert {
    @apply rounded-lg border px-4 py-3 text-sm;
    border-color: var(--color-border);
    background: var(--color-surface);
  }

  .bench-alert-info {
    border-color: #bae6fd;
    background: #e0f2fe;
    color: #075985;
  }

  .bench-alert-success {
    border-color: #bbf7d0;
    background: #dcfce7;
    color: #166534;
  }

  .bench-alert-warning {
    border-color: #fde68a;
    background: #fef9c3;
    color: #854d0e;
  }

  .bench-alert-danger {
    border-color: #fecaca;
    background: #fee2e2;
    color: #991b1b;
  }

  /* Controls */
  .bench-toggle {
    @apply inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold;
    background: rgba(255, 255, 255, 0.12);
    color: var(--color-fg-inverse);
  }

  .bench-toggle-active {
    background: rgba(255, 255, 255, 0.9);
    color: var(--color-bench-blue-9);
  }

  /* Lists */
  .bench-list {
    @apply flex flex-col;
    background: transparent;
  }

  .bench-list-item {
    @apply flex items-center justify-between px-4 py-3 text-sm;
    border-bottom: 1px solid var(--color-border);
  }

  .bench-list-item:last-child {
    border-bottom: 0;
  }

  .bench-list-item:hover {
    background: var(--color-surface-muted);
  }

  /* Global layout + chrome */
  .bench-shell {
    @apply bg-surface-muted text-fg min-h-screen;
  }

  .bench-header-bar {
    @apply border-border bg-surface sticky top-0 z-50 border-b shadow-md;
  }

  .bench-icon-button {
    @apply border-border bg-surface text-fg inline-flex h-10 w-10 items-center justify-center rounded-full border;
    box-shadow: var(--shadow-md);
  }

  .bench-icon-button:hover {
    @apply text-fg;
    box-shadow: var(--shadow-lg);
  }

  .bench-icon-button svg {
    @apply h-5 w-5;
    fill: currentColor;
  }

  .bench-backlink {
    @apply block py-2;
  }

  .bench-backlink a {
    @apply text-bench-gray-8 no-underline;
  }

  .bench-backlink a:hover {
    @apply text-bench-gray-9;
  }

  .bench-footer {
    @apply mt-5 py-2 text-center;
  }

  .bench-footer-row {
    @apply flex items-center justify-between gap-2;
  }

  .bench-page-header {
    @apply flex flex-col gap-4 border-b pb-4;
    border-color: var(--color-border);
  }

  @media (min-width: 1024px) {
    .bench-page-header {
      @apply flex-row items-end justify-between;
    }
  }

  .bench-page-title {
    @apply text-3xl font-bold;
    color: var(--color-fg);
  }

  .bench-page-version {
    @apply text-lg font-normal;
    color: var(--color-fg-muted);
  }

  .bench-page-subtitle {
    @apply text-lg;
    color: var(--color-fg-muted);
  }

  .bench-card-title {
    @apply text-xs font-semibold tracking-wide uppercase;
    color: var(--color-fg);
  }

  .bench-item-title {
    @apply font-semibold;
    color: var(--color-fg);
  }

  .bench-item-meta {
    @apply font-normal;
    color: var(--color-fg-muted);
  }

  .bench-score-badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold text-white;
  }

  .bench-score-good {
    background: #5cb85c;
  }

  .bench-score-ok {
    background: #8ad17d;
  }

  .bench-score-warn {
    background: #f0ad4e;
  }

  .bench-score-bad {
    background: #d9534f;
  }

  .bench-score-neutral {
    background: #6c757d;
  }

  /* Hero */
  .bench-hero {
    @apply relative rounded-xl p-6;
    background: var(--color-surface-strong);
    box-shadow: var(--shadow-lg);
  }

  /* Title column centering - the left column in hero grid */
  .bench-hero .bench-grid-2 > .relative {
    @apply flex items-center justify-center;
    min-height: 160px;
  }

  .bench-hero-title {
    @apply text-center font-extrabold;
    font-size: 3rem;
    color: var(--color-fg-inverse);
    letter-spacing: -0.025em;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  @media (max-width: 768px) {
    .bench-hero-title {
      font-size: 2.25rem;
    }
    .bench-hero .bench-grid-2 > .relative {
      min-height: 120px;
    }
  }

  .bench-actions .bench-button {
    @apply font-semibold;
    color: var(--color-bench-blue-7);
    background: var(--color-white);
  }

  .bench-actions .bench-button:focus {
    background: #ffffff;
    color: #000000;
  }

  .bench-actions .bench-button:active {
    background: #ffffff;
    color: #1e3a8a;
    transform: none;
  }

  .bench-actions {
    @apply grid grid-cols-2 gap-2;
  }

  /* Data table (benchmark rows) */
  .bench-data-table {
    @apply bg-surface w-full rounded-lg;
    box-shadow:
      0 4px 6px rgba(0, 0, 0, 0.04),
      0 10px 24px rgba(15, 23, 42, 0.08);
    outline: 1px solid #a4a4a4;
    margin-top: var(--spacing-3);
  }

  .bench-data-table:has(tbody:empty) {
    outline: none;
  }

  .bench-preload-icon {
    position: absolute;
    top: -20px;
    left: -20px;
  }

  .bench-data-row {
    @apply border-border border-b;
  }

  .bench-data-row:last-child {
    @apply border-b-0;
  }

  .bench-data-cell {
    @apply px-2 py-1 align-middle text-sm;
    border: none;
  }

  .bench-data-id {
    @apply text-bench-gray-8 font-semibold;
    font-variant-numeric: tabular-nums;
  }

  .bench-data-link {
    display: block;
    @apply text-bench-blue-6 rounded px-1.5 py-0.5 font-semibold no-underline;
  }

  .bench-data-cell .bench-data-link {
    width: 100%;
  }

  .bench-data-link:hover {
    @apply bg-bench-blue-1 text-bench-blue-7;
  }

  .bench-data-remove {
    @apply bg-bench-gray-2 h-5 w-5 rounded opacity-70;
    border: none;
    cursor: pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 0.65rem;
  }

  .bench-data-remove:hover {
    @apply bg-red-100 opacity-100;
  }

  .bench-data-active {
    background: #dbeafe;
  }

  .bench-data-active:hover {
    background: #bfdbfe;
  }

  /* View toggle */
  .bench-view-toggle {
    @apply absolute -top-2 -left-2 z-10 flex items-center gap-2;
  }

  .bench-view-button {
    @apply inline-flex h-10 w-10 items-center justify-center rounded-xl text-white;
    background: var(--color-bench-blue-6);
    box-shadow: var(--shadow-md);
    cursor: pointer;

    &:hover {
      opacity: 0.85;
    }

    &:focus {
      outline: 2px solid rgba(255, 255, 255, 0.6);
      outline-offset: 2px;
      opacity: 1;
    }

    &:active {
      transform: translate(1px, 1px);
      opacity: 1;
    }
  }

  .bench-view-button-active {
    background: rgba(255, 255, 255, 0.9);
    color: var(--color-bench-blue-6);
  }

  .bench-inline-between {
    @apply flex items-center justify-between gap-3;
  }

  /* Pokebox */
  .bench-pokebox-grid {
    @apply grid gap-3;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    margin-top: var(--spacing-3);
  }

  @media (max-width: 992px) {
    .bench-pokebox-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (max-width: 768px) {
    .bench-pokebox-grid {
      grid-template-columns: minmax(0, 1fr);
    }
  }

  .bench-pokebox-card {
    @apply flex flex-col gap-1.5 rounded-[18px] border-2 p-2;
    border-color: var(--color-surface-accent);
    background: #c6e5e1;
    box-shadow:
      0 4px 6px rgba(0, 0, 0, 0.04),
      0 10px 24px rgba(15, 23, 42, 0.08);
  }

  .bench-pokebox-header {
    @apply relative flex items-center justify-between rounded-xl px-2.5 py-1.5 font-bold text-white;
    background: var(--color-surface-accent);
    box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.1);
  }

  .bench-pokebox-title {
    @apply flex-1 text-center text-lg;
  }

  .bench-pokebox-cells {
    @apply grid justify-items-center gap-1;
    grid-template-columns: repeat(6, minmax(0, 1fr));
  }

  .bench-pokebox-cell {
    @apply relative inline-flex h-[68px] w-[68px] items-center justify-center rounded-[10px];
    background: #c6e5e1;
    border: 1px solid transparent;
    cursor: pointer;
    content-visibility: auto;
    scale: 0.85;

    .pokebox-caught-badge {
      position: absolute;
      right: 0px;
      bottom: 0px;
      pointer-events: none;
      box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2);
      opacity: 0.9;
    }
  }

  .bench-pokebox-cell:hover {
    background: #ffffff;
  }

  .bench-pokebox-cell[data-empty='true'] {
    @apply cursor-default;
    background: #e3f1f0;
    border-style: dashed;
  }

  .bench-pokebox-cell[data-caught='true'] {
    background: rgba(29, 155, 144, 0.6);
  }

  .bench-pokebox-remove {
    @apply absolute top-1.5 right-1.5 h-6 w-6 rounded-full;
    background-color: #1f9a92;
    border: none;
    cursor: pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 0.5rem;
  }

  .bench-pokebox-remove:hover {
    background-color: #146c65;
  }

  .bench-pokebox-remove:focus-visible {
    background-color: #0f524c;
    outline: 2px solid #146c65;
  }

  .bench-pokebox-remove:active {
    background-color: #ef8f8f;
    outline: 2px solid #ef8f8f;
  }

  /* Manual tests */
  .bench-manual-title {
    @apply text-[2.75rem] font-bold;
    letter-spacing: -0.02em;
  }

  .bench-manual-lead {
    @apply text-lg;
  }

  .bench-manual-row {
    --bs-gutter-x: 2rem;
    --bs-gutter-y: 2rem;
  }

  .bench-manual-card-header {
    @apply px-5 py-3;
  }

  .bench-manual-card-body {
    @apply px-5 py-5;
  }

  .bench-manual-list-item {
    @apply px-4 py-3;
  }

  .bench-manual-panel {
    @apply text-center font-semibold;
    color: var(--color-fg-muted);
  }

  .bench-manual-alert {
    @apply px-5 py-4;
  }

  .bench-manual-button {
    @apply px-4 py-2;
  }
}
